<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<style>
*{margin:0;padding:0;list-style:none;}
.calender{ position:relative;width:210px; overflow:hidden; border:1px solid #000;}
.calender a{ position:absolute;top:0; text-decoration:none;}
.calender a:hover{text-decoration:underline;}
.calender .prev{left:0;}
.calender .next{right:0;}
.calender span{ display:block;width:100%; height:30px; line-height:30px; text-align:center;}
.calender .past{ color:#ccc;}
.calender .today{ background:red; color:#fff; font-weight:bold;}
.calender li{float:left;width:30px; height:30px;height:30px; line-height:30px; text-align:center;}
.calender ol{width:100%; overflow:hidden; border-bottom:1px solid #ccc;}
.calender .week_end{color:red;}
</style>
<script>
window.onload = function(){
	
	//待会创建
	var oDiv = document.getElementById("div1");
	var oBtnPrev = oDiv.children[0];
	var oBtnNext = oDiv.children[1];
	var oSpan    = oDiv.children[2];
	var oUl      = oDiv.children[oDiv.children.length - 1];
	var iNow = 0;//相对于当月
	
	oBtnNext.onclick = function(){
		iNow++;
		refresh();
	};
	
	oBtnPrev.onclick = function(){
		iNow--;
		refresh();
	};
	
	refresh();
	function refresh(){
		
		oUl.innerHTML = "";
		var oDate = new Date();
		oDate.setDate(1);
		oDate.setMonth(oDate.getMonth() + iNow);
		oSpan.innerHTML = oDate.getFullYear()+"年"+(oDate.getMonth()+1)+"月";
		
		var oDate = new Date();
		oDate.setDate(1);
		oDate.setMonth(oDate.getMonth() + iNow);
		oDate.setDate(1);
		var day = oDate.getDay();
		day = day ==0 ? 7 : day;
		day--;
		for(var i = 0; i < day; i++){
			var oLi = document.createElement("li");
			oUl.appendChild(oLi);
		}
		
		
		var oDate = new Date();
		oDate.setDate(1);
		oDate.setMonth(oDate.getMonth() + iNow);
		oDate.setDate(1);
		oDate.setMonth(oDate.getMonth() + 1);
		oDate.setDate(0);
		
		var total = oDate.getDate();
		
		var oDate = new Date();
		oDate.setMonth(oDate.getMonth() + iNow);
		var today = oDate.getDate();
		
		for(var i = 0; i < total; i++){
			var oLi = document.createElement("li");
			oLi.innerHTML = i + 1;
			oUl.appendChild(oLi);
			
			
			if(iNow < 0){//过去
				oLi.className = "past";
			} else if(iNow == 0){// 当月
				if(parseInt(oLi.innerHTML) < today){
					oLi.className = "past";
				} else if(parseInt(oLi.innerHTML) == today){
					oLi.className = "today";
				}
			}
		}
		
		
		for(var i = 0; i < oUl.children.length; i++){
			if(i%7 == 5 || i%7 == 6){
				
				if(oUl.children[i].className == ""){
					oUl.children[i].className = "week_end";	
				}
			}
		}
	
	}
	

};

</script>
</head>

<body>

<div id="div1" class="calender">
	<a class="prev" href="javascript:;">&lt;&lt;</a>
    <a class="next" href="javascript:;">&gt;&gt;</a>
	<span>2015年4月</span>
    <ol>
    	<li>一</li>
    	<li>二</li>
    	<li>三</li>
    	<li>四</li>
    	<li>五</li>
    	<li class="week_end">六</li>
    	<li class="week_end">日</li>
    </ol>
    <ul>
    	
    </ul>

</div>

</body>
</html>
