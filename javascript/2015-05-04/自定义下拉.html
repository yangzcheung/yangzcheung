<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<link rel="stylesheet" href="mySelect.css"/>
<script src="mySelect.js"></script>
<script>
window.onload = function(){
	
	var oSel = document.getElementsByName("city")[0];
	var len  = oSel.options.length;
	
	var oDiv = document.createElement("div");
	oDiv.className = "my_select";
	oSel.parentNode.insertBefore(oDiv,oSel);
	
	
	var oSpan = document.createElement("span");
	oSpan.innerHTML = oSel.options[oSel.selectedIndex].text;
	oSpan.onclick = function(){
		oUl.style.display = "block";	
	};
	
	
	
	var oUl = document.createElement("ul");
	oDiv.appendChild(oSpan);
	oDiv.appendChild(oUl);
	
	for(var i = 0; i < len; i++){
		(function(index){
			var oLi = document.createElement("li");
			oLi.innerHTML = oSel.options[i].text;
			oUl.appendChild(oLi);
			
			oLi.onclick = function(){
				oSpan.innerHTML = this.innerHTML;
				oUl.style.display = "none";	
				
				//oSel.options[index].selected = true;
				oSel.selectedIndex = index;
				
			};
		})(i);
	}
	
	
	
	 
};
</script>
</head>

<body>

<form action="http://www.zhinengshe.com/">
	<!--
    <div class="my_select">
    	<span>北京</span>
    	<ul>
        	<li>北京</li>
        	<li>上海</li>
        	<li>深圳</li>
        </ul>
    </div>

	 -->

   	<select name="city" id="sel1">
    	<option value="bj">北京</option>
    	<option value="sh"  >上海</option>
    	<option value="sz" >深圳</option>    
    </select>
   	
    <input type="submit" />
</form>

</body>
</html>
