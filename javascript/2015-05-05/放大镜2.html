<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<style>
*{margin:0;padding:0;}
#div1{ position:relative;left:10px;width:310px; height:310px;}
#mask{ display:none; position:absolute;left:0;top:0;width:100px; height:100px; line-height:100px; text-align:center; background:yellow;}
#div2{  display:none;position:absolute;left:320px;top:0;width:310px; height:310px; overflow:hidden;}
#div2 img{ position:absolute;left:0;top:0;width:900px; height:900px;}
</style>
<script>

window.onload = function(){
	var oDiv1 = document.getElementById("div1");
	var oDiv2 = document.getElementById("div2");
	var oSpan = document.getElementById("mask");
	var oImg  = oDiv2.children[0];
	
	
	oDiv1.onmousemove = function(ev){
		var oEvent = ev || event;
		
		
		var l = oEvent.clientX - oDiv1.offsetLeft - oSpan.offsetWidth/2 ;
		var t = oEvent.clientY - oDiv1.offsetTop  - oSpan.offsetHeight/2;
		
		if(l < 0){
			l = 0;
		} else if(l > oDiv1.offsetWidth - oSpan.offsetWidth){
			l = oDiv1.offsetWidth - oSpan.offsetWidth;
		}
		
		
		if(t < 0){
			t = 0;
		} else if(t > oDiv1.offsetHeight - oSpan.offsetHeight){
			t = oDiv1.offsetHeight - oSpan.offsetHeight;
		}
		
		
		oSpan.innerHTML = l + "|" + t;
		oSpan.style.left = l + "px";
		oSpan.style.top = t + "px";
			
	};
	
	
	oDiv1.onmouseover = function(){
		//小块
		oSpan.style.display = "block";
		//大块
		oDiv2.style.display = "block";
		
	};
	
	oDiv1.onmouseout = function(){
		//小块
		oSpan.style.display = "none";
		//大块
		oDiv2.style.display = "none";
		
	};
};

</script>
</head>

<body>

<div id="div1">
	<img src="images/m1.jpg"/> 
    <span id="mask"></span>
	<div id="div2">
		<img src="images/b1.jpg" />
    </div>
</div>

</body>
</html>
