<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<style>
*{margin:0;padding:0;list-style:none;}
#box{ position:absolute;left:300px;top:200px;width:400px; height:300px; background:#ccc;}
#div1{ position:absolute;left:0;top:0;width:20px; height:20px; background:red;}
</style>
<script>

window.onload = function(){
	 var oBox = document.getElementById("box");
	 var oDiv = document.getElementById("div1");	
	 
	 //左上
	 oDiv.onmousedown = function(ev){
		 var oEvent = ev || event;
		 
		 var oldX = oEvent.clientX;
		 var oldW = oBox.offsetWidth;
		 var oldLeft = oBox.offsetLeft;
		 
		 var oldY = oEvent.clientY;
		 var oldH = oBox.offsetHeight;
		 var oldTop = oBox.offsetTop;
		 
		 document.onmousemove = function(ev){
			 var oEvent = ev || event;
			 
			 var disX = oEvent.clientX - oldX;//负数
			 oBox.style.width = oldW - disX + "px";
			 oBox.style.left = oldLeft + disX + "px";
			 
			 var disY = oEvent.clientY - oldY;//负数
			 oBox.style.height = oldH - disY + "px";
			 oBox.style.top = oldTop + disY + "px";
			 
			 
		 }; 
		 document.onmouseup = function(){
			 document.onmousemove = null;
			 document.onmouseup = null;	 
			 oDiv.releaseCapture && oDiv.releaseCapture(); 
		 };
		 oDiv.setCapture && oDiv.setCapture();
		 return false;
	 };
	
};

</script>
</head>

<body>
<div id="box">
	<div id="div1"></div>
</div>

</body>
</html>
