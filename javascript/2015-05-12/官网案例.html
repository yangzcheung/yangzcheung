<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<style>
*{margin:0;padding:0;list-style:none;}
#div1{ position:relative;width:800px; height:400px; border:1px solid red; margin:50px auto;}
#div1 ul{ position:absolute;left:0;top:50%; margin-top:-100px; width:3000px; height:200px; background:red;}
#div1 ul li{ position:relative;float:left;width:260px; height:180px; padding:10px;}
#div1 ul li img{width:260px; height:180px;}
#div1 .line{  position:absolute;left:50%; top:0; width:1px; height:100%; background:red;}
#div1 span{ position:absolute;left:50%; top:50%; margin-left:-50px; margin-top:-25px;width:100px; height:50px; line-height:50px; text-align:center; font-size:30px; background:yellow;}
</style>
<script>


window.onload = function(){
	
	var oDiv = document.getElementById("div1");
	var oUl  = oDiv.children[0];
	var aLi  = oUl.children;
	var len  = aLi.length;
	var aSpan = oDiv.getElementsByTagName("span");
	
	
	
	oUl.onmousedown = function(ev){
		var oEvent = ev || event;
		var disX = oEvent.clientX - oUl.offsetLeft;
		
		document.onmousemove = function(ev){
			var oEvent = ev || event;
			
			oUl.style.left = oEvent.clientX - disX + "px";
			
	for(var i = 0; i < aSpan.length; i++){
		var dis = Math.abs(oDiv.offsetWidth/2 - (aLi[i].offsetLeft + aLi[i].offsetWidth/2 + oUl.offsetLeft));
		
		var scale = 1 - dis/800;
		
		aSpan[i].innerHTML = scale.toFixed(2);
		
	}		
			
 


		};
			
		document.onmouseup = function(){
			document.onmousemove = null;
			document.onmouseup = null;
			oUl.releaseCapture && oUl.releaseCapture();
			
		};
			
		oUl.setCapture && oUl.setCapture();
		return false;	
	};
};

</script>
</head>

<body>


<div id="div1">
	<ul>
    	<li><img src="images/1.jpg" /><span></span></li>
    	<li><img src="images/2.jpg" /><span></span></li>
    	<li><img src="images/3.jpg" /><span></span></li>
    	<li><img src="images/4.jpg" /><span></span></li>
    	<li><img src="images/5.jpg" /><span></span></li>
    	<li><img src="images/6.jpg" /><span></span></li>
    	<li><img src="images/7.jpg" /><span></span></li>
    </ul>
    <div class="line"></div>
</div>



</body>
</html>
