<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<style>
*{margin:0;padding:0;list-style:none;}
#div1{width:966px;}
#div1 ul{float:left;width:300px; margin:10px; border:1px solid red;}
#div1 ul li{width:300px; background:#ccc; margin-top:10px;}
</style>
<script src="jquery-1.7.2.js"></script>
<script>
window.onload = function(){
	
	var $oDiv = $("#div1");
	var $aUl  = $oDiv.children();

	function createLi(){
		for(var i = 0; i < 20; i++){
			var $oLi = $("<li></li>");
			$oLi.height(parseInt(Math.random()*350 + 50) + "px");
	
			//插入
			$aUl.sort(function(oUl1,oUl2){
				return $(oUl1).outerHeight() - $(oUl2).outerHeight();
			});
			
			$oLi.appendTo($aUl[0]);
			
		}
	}
	
	createLi();
	$(window).scroll(function(){
		var scrollTop = $(document).scrollTop();
		var bodyH = document.body.scrollHeight;
		var clientH = $(window).height();
		if(scrollTop >= bodyH - clientH - 200){
			createLi();
		}	
	});
	
	
	
};
</script>
</head>

<body>

<div id="div1">
	<ul></ul>
	<ul></ul>
	<ul></ul>
</div>

</body>
</html>
