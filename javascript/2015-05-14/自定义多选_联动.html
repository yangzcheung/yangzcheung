<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<style>
*{margin:0;padding:0;list-style:none;}
#div1{ margin:100px;}
#div1 span,#div1 li{ display:block; height:20px; line-height:20px; background:url(icon.gif) no-repeat; padding-left:20px;}
#div1 .active{ background-position:0 -34px;}
</style>
<script src="jquery-1.7.2.js"></script>
<script>
window.onload = function(){
	
	var $oDiv = $("#div1");
	var $oSpan = $oDiv.find("span");
	var $oUl = $("#ul1");
	var $aLi = $oUl.find("li");
	
	$aLi.click(function(){
		$(this).toggleClass("active");
		var count = 0;
		$aLi.each(function() {
            if($(this).hasClass("active")){
				count++;
			}
        });
		
		if(count == $aLi.length){
			$oSpan.addClass("active");
		} else {
			$oSpan.removeClass("active");
		}
			
	});
	
	$oSpan.click(function(){
		$(this).toggleClass("active");
		
		if($(this).hasClass("active")){
			$aLi.addClass("active");
		} else {
			$aLi.removeClass("active");
		}
		
		
	});
	
};

</script>
</head>

<body>
<div id="div1">
	<span ></span>
    <ul id="ul1">
        <li >选项1</li>
        <li>选项1</li>
        <li>选项1</li>
        <li>选项1</li>
        <li>选项1</li>
    
    </ul>
</div>

</body>
</html>
