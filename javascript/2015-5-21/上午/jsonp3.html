<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<script>
function jsonp(url, data, fn)
{
	data.cb='jsonp'+Math.random();
	data.cb=data.cb.replace('.', '');
	
	//
	var arr=[];
	for(var i in data)
	{
		arr.push(i+'='+encodeURIComponent(data[i]));
	}
	var str=arr.join('&');
	
	window[data.cb]=function (json)
	{
		fn(json);
		
		oHead.removeChild(oS);
		window[data.cb]=null;
	};
	
	//
	var oS=document.createElement('script');
	oS.src=url+'?'+str;
	
	var oHead=document.getElementsByTagName('head')[0];
	oHead.appendChild(oS);
}

window.onload=function ()
{
	var oTxt=document.getElementById('txt1');
	var url='https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su';
	
	oTxt.onkeyup=function ()
	{
		jsonp(
			url,
			{wd: this.value},
			function (json){
				alert(json.s);
			}
		);
	};
};
</script>
</head>

<body>
<input type="text" id="txt1" />
</body>
</html>
