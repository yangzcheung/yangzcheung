<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script type="text/javascript">
var arr=[1];

//准备
for(var i=1;i<100000;i++)
{
	arr[i]=arr[i-1]+Math.floor(Math.random()*5+1);
}

//性能
var t=new Date().getTime();

for(var i=0;i<1000000;i++)
{
	var n=Math.floor(Math.random()*arr[arr.length-1]);

	//findInArr(arr, n);					//1600
	findInArr2(n, 0, arr.length-1);			//4.2
}

alert(new Date().getTime()-t);

function findInArr(arr, n)
{
	for(var i=0;i<arr.length;i++)
	{
		if(arr[i]==n)
			return true;
	}
	return false;
}

function findInArr2(n, s, e)
{
	//神经病
	//s=0,e=-1
	if(s>e)		//空的
	{
		return false;
	}
	//s=0,e=0
	else if(s==e)
	{
		if(arr[s]==n)
			return true;
		else
			return false;
	}

	//1.找到中点位置
	var c=Math.floor((s+e)/2);

	if(arr[c]==n)
		return true;
	else
	{
		if(arr[c]<n)	//往右找
		{
			//c+1, e
			return findInArr2(n, c+1, e);
		}
		else			//往左找
		{
			//s, c-1
			return findInArr2(n, s, c-1);
		}
	}
}
</script>
</head>

<body>
</body>
</html>